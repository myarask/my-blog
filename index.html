<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Blog</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="index.js" defer></script>

    <!-- Prism.js CSS (for syntax highlighting) -->
    <link
      href="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/themes/prism-tomorrow.css"
      rel="stylesheet"
    />
    <!-- Prism.js JS (for syntax highlighting) -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-javascript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-typescript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-jsx.min.js"></script>
  </head>
  <body
    class="bg-gray-100 text-gray-900 grid grid-cols-[250px_1fr] min-h-screen"
  >
    <!-- Navigation -->
    <nav class="bg-blue-600 text-white p-6">
      <a
        href="#"
        class="block w-full text-left py-2 px-4 hover:bg-blue-500 rounded"
        onclick="showSection('home')"
      >
        Home
      </a>

      <h2 class="text-xl font-bold mb-4">Articles</h2>
      <ul>
        <li>
          <a
            href="#hooks"
            class="block w-full text-left py-2 px-4 hover:bg-blue-500 rounded"
            onclick="showSection('hooks')"
          >
            On Hooks
          </a>
        </li>
        <li>
          <a
            href="#shared-state"
            class="block w-full text-left py-2 px-4 hover:bg-blue-500 rounded"
            onclick="showSection('shared-state')"
          >
            Performance: Prefetching
          </a>
        </li>
        <li>
          <a
            href="#performance-size"
            class="block w-full text-left py-2 px-4 hover:bg-blue-500 rounded"
            onclick="showSection('performance-size')"
          >
            Performance: Size
          </a>
        </li>
      </ul>
    </nav>
    <!-- Main Content -->
    <main class="overflow-y-auto h-screen">
      <!-- Home -->
      <section id="home" class="hidden p-6">
        <h1 class="text-2xl font-bold">Welcome to my thoughts on React</h1>
        <p class="mt-4 text-gray-700">Select an article from the sidebar.</p>
      </section>

      <!-- Hooks -->
      <section id="hooks" class="hidden p-6">
        <h1 class="text-2xl font-bold">On Hooks</h1>

        <p class="mt-4 text-gray-700">
          Commonly accessed data wants to be read like this:
        </p>

        <pre class="bg-gray-800 text-white p-4 rounded-lg mt-4">
<code class="language-js">
const thing = useThing();
</code>
        </pre>

        <p class="mt-4 text-gray-700">
          Comparing practical examples can explain why:
        </p>

        <pre class="bg-gray-800 text-white p-4 rounded-lg mt-4">
<code class="language-js">
// ✅ Familiar terminology
// ✅ Consistent terminology
// ✅ Data-source agnostic
// ✅ No required parameters
// ✅ Implied memoization
const profile = useProfile();



// ❌ If a hook's scope is too narrow, it becomes harder to describe, find, and re-use.
const staticProfileMedia = useStaticProfileMedia();

// ❌ Mixing terms can mislead the developer.
const user = useProfile();

// ❌ The schema and the state management library become baked into the app, making refactors harder.
const profile = useSelector((state) => state.profile);

// ❌ All consumers of the hook are forced to dig up the required parameter (userId).
const profile = useProfile(userId);

// ❌ The results of the read are not memoized, hurting performance.
const profile = getProfile();



// ⚠️ Using the state management library directly can be advantageous for obscure data points.
// ⚠️ There are no scaling benefits for custom hooks that are used only once.
const dataPoint = useSelector((state) => state.my.obscure.data.point);
</code>
        </pre>
      </section>

      <!-- Shared State -->
      <section id="performance-size" class="hidden p-6">
        <h1 class="text-2xl font-bold">Performance: Size</h1>

        <p class="mt-4 text-gray-700">
          Removing abstractions which are used only once will always decrease
          the size of the source code. It will often shrink the size of the
          build, and it might improve the speed of the program.
        </p>

        <p class="mt-4 text-gray-700">Before</p>
        <p class="mt-4 text-gray-700">Average time: 125.52ns</p>

        <pre class="bg-gray-800 text-white p-4 rounded-lg mt-4">
<code class="language-ts">
const isAprilFools = () => {
  const today = new Date();
  const month = today.getMonth();
  const date = today.getDate();
  return month === Month.April && date === 1;
};

if (isAprilFools()) {
  console.log("April Fools!");
} else {
  console.log("Hello, World!");
}
</code>
</pre>
        <p class="mt-4 text-gray-700">
          Before, Minified (Input: 268 bytes; Output: 173 bytes; Compression:
          35.45%, saving: 95 bytes;)
        </p>
        <p class="mt-4 text-gray-700">Average Time: 125.08ns</p>
        <pre class="bg-gray-800 text-white p-4 rounded-lg mt-4">
<code class="language-ts">
const isAprilFools=()=>{const o=new Date,l=o.getMonth(),e=o.getDate();return l===Month.April&&1===e};isAprilFools()?console.log("April Fools!"):console.log("Hello, World!");
</code>
        </pre>

        <p class="mt-4 text-gray-700">After</p>
        <p class="mt-4 text-gray-700">Average Time: 122.09ns</p>

        <pre class="bg-gray-800 text-white p-4 rounded-lg mt-4">
<code class="language-ts">
const today = new Date();

if (today.getMonth() === Month.April && today.getDate() === 1) {
  console.log("April Fools!");
} else {
  console.log("Hello, World!");
}
</code>
        </pre>
        <p class="mt-4 text-gray-700">
          After, Minified (Input: 165 bytes; Output: 130 bytes; Compression:
          21.21%, saving: 35 bytes;)
        </p>
        <p class="mt-4 text-gray-700">Average Time: 121.36ns</p>
        <pre class="bg-gray-800 text-white p-4 rounded-lg mt-4">
<code class="language-ts">
const today=new Date;today.getMonth()===Month.April&&1===today.getDate()?console.log("April Fools!"):console.log("Hello, World!");
</code>
        </pre>
      </section>

      <!-- Shared State -->
      <section id="shared-state" class="hidden p-6">
        <h1 class="text-2xl font-bold">Performance: Prefetching</h1>

        <p class="mt-4 text-gray-700">
          One way to finish tasks earlier is to start the task earlier. Your web
          app should begin loading data as soon as it known to be needed.
        </p>

        <p class="mt-4 text-gray-700">
          In this example, there is a MissionPage, which is loaded
          asynchronously. The Launcher component is capable of starting the
          fetch operations for data needed by the page.
        </p>

        <iframe
          src="https://codesandbox.io/embed/lvkl7p?view=editor&module=%2Fsrc%2Fpages%2FMission%2FMissionLauncher.tsx"
          style="
            width: 100%;
            height: 500px;
            border: 0;
            border-radius: 4px;
            /* overflow: hidden; */
          "
          title="Example"
          allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
          sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
        ></iframe>

        <p class="mt-4 text-gray-700">
          The page component will read the response data synchronously, as it
          will not render until all promises in suspense are resolved.
        </p>

        <iframe
          src="https://codesandbox.io/embed/lvkl7p?view=editor+%2B+preview&module=%2Fsrc%2Fpages%2FMission%2FMissionPage.tsx"
          style="
            width: 100%;
            height: 500px;
            border: 0;
            border-radius: 4px;
            overflow: hidden;
          "
          title="Example"
          allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
          sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
        ></iframe>
      </section>
    </main>
  </body>
</html>
